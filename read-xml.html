<html>
<head>
    <meta charset="UTF-8">
    <title>Reading Data from XML Files</title>
    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" href="main.css" />
</head>
<body>
    <header>
        <h1>Reading Data from XML Files</h1>
    </header>
    <main>
        <ul>firstname</ul>
        <ul>lastname</ul>
        <ul>studentID</ul>
    </main>
        <script>
                document.addEventListener('DOMContentLoaded', () => {
                    let url = "read.xml";
                    fetch(url)
                    .then(response=>response.text())
                    .then(data=>{
                            let parser = new DOMParser();
                            let xml = parser.parseFromString(data, "application/xml")
                            document.getELementById('output').textContent = data;
                            console.log(xml);
                            buildHSStudentList(xml);
                            buildCStudnetList(xml);
                    });
                })

                function buildHSStudentList(x) {
                    let list = document.getElementById('hs:class');
                    let class = x.getElementsByTagName('hs:student');
                    for (let i=0; i<class.length; i++){
                        let li = document.createElement('li');
                        let student = class[i].firstChild.nodeValue
                        li.textContent = student;
                        list.appendChild(li);

                        }
                    }

                function buildCStudents(x) {
                let list = document.getElementById('c:class');
                    let class = x.getElementsByTagName('c:student');
                    for (let i=0; i<class.length; i++){
                        let li = document.createElement('li');
                        let student = class[i].firstChild.nodeValue;
                        {{/* let gradeAverage = student[i].getAttribute('gpa'); */}}
                        li.textContent = `${student} - ${gradeAverage}`;
                        li.textContent = cstudent;
                        list.appendChild(li);
                        }
                    }
        </script>
    </body>
    </html>